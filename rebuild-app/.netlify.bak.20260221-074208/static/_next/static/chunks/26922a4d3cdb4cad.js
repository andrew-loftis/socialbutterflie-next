(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93842,e=>{"use strict";var t=e.i(43476);function s({title:e,subtitle:s,actions:a}){return(0,t.jsxs)("header",{className:"page-header",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:e}),(0,t.jsx)("p",{children:s})]}),a?(0,t.jsx)("div",{className:"page-actions",children:a}):null]})}e.s(["PageHeader",()=>s])},15562,e=>{"use strict";var t=e.i(71645),s=e.i(3638);function a(){let{appContext:e,companies:a,setActiveCompany:n,markCompanyGateSeen:l}=(0,s.useAppState)();return{activeCompany:(0,t.useMemo)(()=>a.find(t=>t.id===e.activeCompanyId)||null,[e.activeCompanyId,a]),activeCompanyId:e.activeCompanyId,companies:a,setActiveCompany:e=>{n(e),l(!!e)}}}e.s(["useActiveCompany",()=>a])},8970,e=>{"use strict";e.i(36180);var t=e.i(98925),s=e.i(71645),a=e.i(3638),n=e.i(67426);let l={};function i(){let{appContext:e}=(0,a.useAppState)(),i=e.activeCompanyId,r=`${e.workspaceId}:${i||"none"}`,[c,d]=(0,s.useState)([]),[o,u]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(!i||!n.firestore)return;let s=(0,t.collection)(n.firestore,"workspaces",e.workspaceId,"companies",i,"posts"),a=(0,t.query)(s,(0,t.orderBy)("scheduledFor","asc"));return(0,t.onSnapshot)(a,e=>{d(e.docs.map(e=>({id:e.id,...e.data()}))),u(!0)})},[i,e.workspaceId]),i)?n.firestore?{posts:c,loading:!o}:{posts:l[r]||[],loading:!1}:{posts:[],loading:!1}}e.s(["useCompanyPosts",()=>i])},90527,e=>{"use strict";var t=e.i(43476),s=e.i(22016),a=e.i(71645),n=e.i(89853),l=e.i(73375),i=e.i(63059),r=e.i(7233),c=e.i(83086),d=e.i(93842),o=e.i(15562),u=e.i(8970);let h=["All","Draft","Review","Scheduled","Published"],p={All:null,Draft:"draft",Review:"in_review",Scheduled:"scheduled",Published:"published"},m={draft:"draft",in_review:"review",scheduled:"scheduled",published:"published"},y=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function x(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function g(){let{activeCompany:e}=(0,o.useActiveCompany)(),{posts:g}=(0,u.useCompanyPosts)(),v=new Date,[j,b]=(0,a.useState)(v.getFullYear()),[N,w]=(0,a.useState)(v.getMonth()),[C,S]=(0,a.useState)("All"),D=(0,a.useMemo)(()=>(function(e,t){let s=new Date(e,t,1).getDay(),a=new Date(e,t+1,0).getDate(),n=new Date(e,t,0).getDate(),l=[];for(let a=s-1;a>=0;a--)l.push({date:new Date(e,t-1,n-a),current:!1});for(let s=1;s<=a;s++)l.push({date:new Date(e,t,s),current:!0});for(;l.length<35;)l.push({date:new Date(e,t+1,l.length-s-a+1),current:!1});return l})(j,N),[j,N]),A=(0,a.useMemo)(()=>{let e=p[C];return e?g.filter(t=>t.status===e):g},[g,C]),I=(0,a.useMemo)(()=>{let e={};for(let t of A){let s=t.scheduledFor?t.scheduledFor.slice(0,10):null;s&&(e[s]||(e[s]=[]),e[s].push(t))}return e},[A]);if(!e)return(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("div",{className:"empty-state-icon",children:(0,t.jsx)(n.CalendarDays,{className:"h-6 w-6"})}),(0,t.jsx)("h3",{children:"No company selected"}),(0,t.jsx)(s.default,{className:"btn-primary",href:"/select-company",children:"Choose company"})]});let P=x(v);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(d.PageHeader,{title:`${e.name} Calendar`,subtitle:"Schedule and visualise your publishing queue.",actions:(0,t.jsxs)(s.default,{className:"btn-primary btn-sm",href:"/build",children:[(0,t.jsx)(r.Plus,{className:"h-3.5 w-3.5"})," New Post"]})}),(0,t.jsxs)("section",{className:"panel",children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,position:"relative",zIndex:1},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,t.jsx)("button",{className:"btn-ghost btn-icon",type:"button",onClick:function(){0===N?(b(e=>e-1),w(11)):w(e=>e-1)},children:(0,t.jsx)(l.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsxs)("h3",{style:{margin:0},children:[y[N]," ",j]}),(0,t.jsx)("button",{className:"btn-ghost btn-icon",type:"button",onClick:function(){11===N?(b(e=>e+1),w(0)):w(e=>e+1)},children:(0,t.jsx)(i.ChevronRight,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{style:{display:"flex",gap:6},children:h.map(e=>(0,t.jsx)("button",{className:`chip${C===e?" active":""}`,type:"button",onClick:()=>S(e),children:e},e))})]}),(0,t.jsxs)("div",{className:"calendar-grid",style:{position:"relative",zIndex:1},children:[f.map(e=>(0,t.jsx)("div",{className:"calendar-day-header",children:e},e)),D.map(({date:e,current:s})=>{let a=x(e),n=I[a]||[],l=a===P;return(0,t.jsxs)("div",{className:`calendar-day${l?" today":""}${!s?" other-month":""}`,children:[(0,t.jsx)("span",{className:"calendar-day-num",children:e.getDate()}),n.slice(0,3).map(e=>(0,t.jsx)("span",{className:`calendar-post-pill ${m[e.status]||""}`,children:e.caption?.slice(0,18)||e.platform||"Post"},e.id)),n.length>3&&(0,t.jsxs)("span",{className:"calendar-more",children:["+",n.length-3," more"]})]},a)})]}),!g.length&&(0,t.jsxs)("div",{className:"empty-state",style:{marginTop:24},children:[(0,t.jsx)("div",{className:"empty-state-icon",children:(0,t.jsx)(c.Sparkles,{className:"h-5 w-5"})}),(0,t.jsx)("p",{children:"No posts yet. Start building your content calendar."}),(0,t.jsx)(s.default,{className:"btn-primary",href:"/build",children:"Create first post"})]})]})]})}e.s(["default",()=>g])}]);