(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";let a=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>a],61911)},47780,e=>{"use strict";let a=(0,e.i(75254).default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);e.s(["Palette",()=>a],47780)},45723,e=>{"use strict";var a=e.i(43476),t=e.i(22016),s=e.i(71645),l=e.i(75254);let n=(0,l.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),c=(0,l.default)("mic-vocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);var i=e.i(47780),r=e.i(83086),o=e.i(61911),d=e.i(3638);function m({entity:e,children:t,className:s=""}){let{setInspector:l}=(0,d.useAppState)();return(0,a.jsx)("button",{type:"button",className:`entity-card ${s}`,onClick:()=>l(e),children:t})}var p=e.i(64242),u=e.i(95938);let h=[n,c,i.Palette,o.Users,r.Sparkles],y=["Identity","Voice","Visual","Audience","Content"];function x(){let{user:e}=(0,u.useAuth)(),{appContext:l,companies:n,setCompanies:c,setActiveCompany:i,markCompanyGateSeen:r}=(0,d.useAppState)(),[o,x]=(0,s.useState)(""),[j,f]=(0,s.useState)("#5ba0ff"),[v,g]=(0,s.useState)("#2f436b"),[k,C]=(0,s.useState)("#98c2ff"),[b,N]=(0,s.useState)(!1),[w,S]=(0,s.useState)(null),A=(0,s.useMemo)(()=>[...n].sort((e,a)=>e.name.localeCompare(a.name)),[n]);async function M(){let a=o.trim();if(!a)return void S("Company name is required.");N(!0),S(null);try{let t=await (0,p.createCompany)({workspaceId:l.workspaceId,userId:l.userId,userEmail:e?.email||void 0,name:a,branding:{primary:j,secondary:v,accent:k}});x(""),c(e=>e.some(e=>e.id===t.id)?e:[...e,t].sort((e,a)=>e.name.localeCompare(a.name))),i(t.id),r(!0),S(`Created ${t.name}.`)}catch(e){S(e instanceof Error?e.message:"Failed to create company")}finally{N(!1)}}return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("section",{className:"panel",children:[(0,a.jsxs)("div",{className:"panel-toolbar",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Create company"}),(0,a.jsx)("p",{className:"text-sm text-[var(--muted)]",children:A.length?"Create a new company without leaving the list.":"Create your first company to unlock company-scoped analytics, assets, and invites."})]}),(0,a.jsx)("div",{className:"button-row",children:(0,a.jsx)(t.default,{className:"btn-ghost",href:"/select-company",children:"Open Selector"})})]}),(0,a.jsxs)("div",{className:"form-grid two-col",children:[(0,a.jsxs)("label",{className:"two-col-span",children:[(0,a.jsx)("span",{children:"Company name"}),(0,a.jsx)("input",{value:o,onChange:e=>x(e.target.value),placeholder:"Acme Media Group"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"Primary color"}),(0,a.jsx)("input",{type:"color",value:j,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"Secondary color"}),(0,a.jsx)("input",{type:"color",value:v,onChange:e=>g(e.target.value)})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"Accent color"}),(0,a.jsx)("input",{type:"color",value:k,onChange:e=>C(e.target.value)})]})]}),(0,a.jsx)("div",{className:"button-row",children:(0,a.jsx)("button",{type:"button",className:"btn-primary",onClick:M,disabled:b,children:b?"Creating...":"Create Company"})}),w?(0,a.jsx)("p",{className:"text-sm text-[var(--muted)]",children:w}):null]}),A.length?(0,a.jsx)("section",{className:"company-grid",children:A.map(e=>{let s={kind:"company",id:e.id,title:e.name,subtitle:"Brand Intelligence",status:`${e.completionScore}% complete`,summary:e.sections.identity.mission||"Complete company sections to improve AI context quality.",versionHistory:[],approvals:[],auditLog:[`Updated ${new Date(e.updatedAt).toLocaleString()}`]};return(0,a.jsxs)(m,{entity:s,className:"company-card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("h3",{children:e.name}),(0,a.jsxs)("span",{className:"badge",children:[e.completionScore,"%"]})]}),(0,a.jsx)("p",{className:"text-sm text-[var(--muted)]",children:e.sections.identity.tagline||"No tagline set"}),(0,a.jsx)("div",{className:"company-section-pills",children:y.map((e,t)=>{let s=h[t];return(0,a.jsxs)("span",{className:"chip",children:[(0,a.jsx)(s,{className:"h-3.5 w-3.5"})," ",e]},e)})}),(0,a.jsxs)("div",{className:"button-row",children:[(0,a.jsx)(t.default,{className:"btn-ghost",href:`/companies/${e.id}`,children:"Open Profile"}),(0,a.jsx)(t.default,{className:"btn-primary",href:`/companies/${e.id}/intake`,children:"Open Intake"})]})]},e.id)})}):(0,a.jsxs)("section",{className:"panel",children:[(0,a.jsx)("h3",{children:"Companies"}),(0,a.jsx)("p",{className:"text-sm text-[var(--muted)]",children:"No companies created yet."})]})]})}e.s(["CompanyGrid",()=>x],45723)}]);