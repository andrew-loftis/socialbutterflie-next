module.exports=[51538,a=>{"use strict";var b=a.i(87924);function c({title:a,subtitle:c,actions:d}){return(0,b.jsxs)("header",{className:"page-header",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{children:a}),(0,b.jsx)("p",{children:c})]}),d?(0,b.jsx)("div",{className:"page-actions",children:d}):null]})}a.s(["PageHeader",()=>c])},30666,a=>{"use strict";var b=a.i(72131),c=a.i(22168);function d(){let{appContext:a,companies:d,setActiveCompany:e,markCompanyGateSeen:f}=(0,c.useAppState)();return{activeCompany:(0,b.useMemo)(()=>d.find(b=>b.id===a.activeCompanyId)||null,[a.activeCompanyId,d]),activeCompanyId:a.activeCompanyId,companies:d,setActiveCompany:a=>{e(a),f(!!a)}}}a.s(["useActiveCompany",()=>d])},93783,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(72131),d=a.i(22168),e=a.i(8876);let f={};function g(){let{appContext:a}=(0,d.useAppState)(),g=a.activeCompanyId,h=`${a.workspaceId}:${g||"none"}`,[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{if(!g||!e.firestore)return;let c=(0,b.collection)(e.firestore,"workspaces",a.workspaceId,"companies",g,"posts"),d=(0,b.query)(c,(0,b.orderBy)("scheduledFor","asc"));return(0,b.onSnapshot)(d,a=>{j(a.docs.map(a=>({id:a.id,...a.data()}))),l(!0)})},[g,a.workspaceId]),g)?e.firestore?{posts:i,loading:!k}:{posts:f[h]||[],loading:!1}:{posts:[],loading:!1}}a.s(["useCompanyPosts",()=>g])},70823,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(60702),f=a.i(13749),g=a.i(50522),h=a.i(15618),i=a.i(8406),j=a.i(51538),k=a.i(30666),l=a.i(93783);let m=["All","Draft","Review","Scheduled","Published"],n={All:null,Draft:"draft",Review:"in_review",Scheduled:"scheduled",Published:"published"},o={draft:"draft",in_review:"review",scheduled:"scheduled",published:"published"},p=["January","February","March","April","May","June","July","August","September","October","November","December"],q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function r(a){return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}function s(){let{activeCompany:a}=(0,k.useActiveCompany)(),{posts:s}=(0,l.useCompanyPosts)(),t=new Date,[u,v]=(0,d.useState)(t.getFullYear()),[w,x]=(0,d.useState)(t.getMonth()),[y,z]=(0,d.useState)("All"),A=(0,d.useMemo)(()=>(function(a,b){let c=new Date(a,b,1).getDay(),d=new Date(a,b+1,0).getDate(),e=new Date(a,b,0).getDate(),f=[];for(let d=c-1;d>=0;d--)f.push({date:new Date(a,b-1,e-d),current:!1});for(let c=1;c<=d;c++)f.push({date:new Date(a,b,c),current:!0});for(;f.length<35;)f.push({date:new Date(a,b+1,f.length-c-d+1),current:!1});return f})(u,w),[u,w]),B=(0,d.useMemo)(()=>{let a=n[y];return a?s.filter(b=>b.status===a):s},[s,y]),C=(0,d.useMemo)(()=>{let a={};for(let b of B){let c=b.scheduledFor?b.scheduledFor.slice(0,10):null;c&&(a[c]||(a[c]=[]),a[c].push(b))}return a},[B]);if(!a)return(0,b.jsxs)("div",{className:"empty-state",children:[(0,b.jsx)("div",{className:"empty-state-icon",children:(0,b.jsx)(e.CalendarDays,{className:"h-6 w-6"})}),(0,b.jsx)("h3",{children:"No company selected"}),(0,b.jsx)(c.default,{className:"btn-primary",href:"/select-company",children:"Choose company"})]});let D=r(t);return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(j.PageHeader,{title:`${a.name} Calendar`,subtitle:"Schedule and visualise your publishing queue.",actions:(0,b.jsxs)(c.default,{className:"btn-primary btn-sm",href:"/build",children:[(0,b.jsx)(h.Plus,{className:"h-3.5 w-3.5"})," New Post"]})}),(0,b.jsxs)("section",{className:"panel",children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,position:"relative",zIndex:1},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,b.jsx)("button",{className:"btn-ghost btn-icon",type:"button",onClick:function(){0===w?(v(a=>a-1),x(11)):x(a=>a-1)},children:(0,b.jsx)(f.ChevronLeft,{className:"h-4 w-4"})}),(0,b.jsxs)("h3",{style:{margin:0},children:[p[w]," ",u]}),(0,b.jsx)("button",{className:"btn-ghost btn-icon",type:"button",onClick:function(){11===w?(v(a=>a+1),x(0)):x(a=>a+1)},children:(0,b.jsx)(g.ChevronRight,{className:"h-4 w-4"})})]}),(0,b.jsx)("div",{style:{display:"flex",gap:6},children:m.map(a=>(0,b.jsx)("button",{className:`chip${y===a?" active":""}`,type:"button",onClick:()=>z(a),children:a},a))})]}),(0,b.jsxs)("div",{className:"calendar-grid",style:{position:"relative",zIndex:1},children:[q.map(a=>(0,b.jsx)("div",{className:"calendar-day-header",children:a},a)),A.map(({date:a,current:c})=>{let d=r(a),e=C[d]||[],f=d===D;return(0,b.jsxs)("div",{className:`calendar-day${f?" today":""}${!c?" other-month":""}`,children:[(0,b.jsx)("span",{className:"calendar-day-num",children:a.getDate()}),e.slice(0,3).map(a=>(0,b.jsx)("span",{className:`calendar-post-pill ${o[a.status]||""}`,children:a.caption?.slice(0,18)||a.platform||"Post"},a.id)),e.length>3&&(0,b.jsxs)("span",{className:"calendar-more",children:["+",e.length-3," more"]})]},d)})]}),!s.length&&(0,b.jsxs)("div",{className:"empty-state",style:{marginTop:24},children:[(0,b.jsx)("div",{className:"empty-state-icon",children:(0,b.jsx)(i.Sparkles,{className:"h-5 w-5"})}),(0,b.jsx)("p",{children:"No posts yet. Start building your content calendar."}),(0,b.jsx)(c.default,{className:"btn-primary",href:"/build",children:"Create first post"})]})]})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=src_10f30656._.js.map