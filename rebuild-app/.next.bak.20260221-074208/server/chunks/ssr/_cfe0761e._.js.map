{"version":3,"sources":["../../../../src/components/ui/page-header.tsx","../../../../node_modules/lucide-react/src/icons/copy.ts","../../../../node_modules/lucide-react/src/icons/send.ts","../../../../src/lib/firebase/invite-store.ts","../../../../src/app/%28app%29/companies/%5BcompanyId%5D/page.tsx","../../../../src/components/company/company-members-manager.tsx","../../../../src/components/companies/company-profile-editor.tsx"],"sourcesContent":["export function PageHeader({ title, subtitle, actions }: { title: string; subtitle: string; actions?: React.ReactNode }) {\n  return (\n    <header className=\"page-header\">\n      <div>\n        <h1>{title}</h1>\n        <p>{subtitle}</p>\n      </div>\n      {actions ? <div className=\"page-actions\">{actions}</div> : null}\n    </header>\n  );\n}\r\n\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '14', height: '14', x: '8', y: '8', rx: '2', ry: '2', key: '17jyea' }],\n  ['path', { d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2', key: 'zix9uf' }],\n];\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('copy', __iconNode);\n\nexport default Copy;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n];\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('send', __iconNode);\n\nexport default Send;\n","import {\n  collection,\n  collectionGroup,\n  doc,\n  getDoc,\n  getDocs,\n  limit,\n  onSnapshot,\n  query,\n  setDoc,\n  updateDoc,\n  where,\n  type QueryDocumentSnapshot,\n  type Unsubscribe,\n} from 'firebase/firestore';\nimport { firestore } from '@/lib/firebase/client';\nimport { mapFirebaseError } from '@/lib/firebase/errors';\nimport { activateMemberByEmail, addPendingMember } from '@/lib/firebase/member-store';\nimport { ensureWorkspaceUserAccess } from '@/lib/firebase/workspace-access-store';\nimport type { CompanyInvite, Role } from '@/types/interfaces';\n\nconst memoryInvites: Array<CompanyInvite & { workspaceId: string }> = [];\nconst memoryListeners = new Map<string, Set<(invites: CompanyInvite[]) => void>>();\n\nfunction inviteKey(workspaceId: string, companyId: string) {\n  return `${workspaceId}:${companyId}`;\n}\n\nfunction notify(workspaceId: string, companyId: string) {\n  const key = inviteKey(workspaceId, companyId);\n  const listeners = memoryListeners.get(key);\n  if (!listeners) return;\n  const value = memoryInvites.filter((entry) => entry.workspaceId === workspaceId && entry.companyId === companyId);\n  for (const listener of listeners) listener(value);\n}\n\nexport function subscribeCompanyInvites(\n  workspaceId: string,\n  companyId: string,\n  callback: (invites: CompanyInvite[]) => void,\n  onError?: (message: string) => void\n): Unsubscribe {\n  if (!firestore) {\n    const key = inviteKey(workspaceId, companyId);\n    const listeners = memoryListeners.get(key) || new Set();\n    listeners.add(callback);\n    memoryListeners.set(key, listeners);\n    callback(memoryInvites.filter((entry) => entry.workspaceId === workspaceId && entry.companyId === companyId));\n    return () => {\n      const next = memoryListeners.get(key);\n      if (!next) return;\n      next.delete(callback);\n    };\n  }\n\n  const invitesRef = collection(firestore, 'workspaces', workspaceId, 'companies', companyId, 'invites');\n  return onSnapshot(\n    invitesRef,\n    (snapshot) => {\n      const invites = snapshot.docs\n        .map((entry) => entry.data() as CompanyInvite)\n        .sort((a, b) => b.createdAt.localeCompare(a.createdAt));\n      callback(invites);\n    },\n    (error) => {\n      onError?.(mapFirebaseError(error, 'firestore'));\n    }\n  );\n}\n\nexport function buildInviteUrl(token: string) {\n  const base = process.env.NEXT_PUBLIC_APP_URL || (typeof window !== 'undefined' ? window.location.origin : '');\n  if (!base) return `/invite/${token}`;\n  return `${base.replace(/\\/+$/, '')}/invite/${token}`;\n}\n\nexport async function createCompanyInvite(\n  workspaceId: string,\n  companyId: string,\n  input: { email: string; role: Role; createdBy: string }\n): Promise<CompanyInvite> {\n  const now = new Date();\n  const expiresAt = new Date(now.getTime() + 1000 * 60 * 60 * 24 * 7).toISOString();\n  const invite: CompanyInvite = {\n    id: '',\n    companyId,\n    email: input.email.trim().toLowerCase(),\n    role: input.role,\n    token: crypto.randomUUID().replace(/-/g, ''),\n    status: 'pending',\n    expiresAt,\n    createdAt: now.toISOString(),\n    createdBy: input.createdBy,\n  };\n  // Use token as doc id so we can address it deterministically from client + rules.\n  invite.id = invite.token;\n\n  await addPendingMember(workspaceId, companyId, {\n    email: invite.email,\n    role: invite.role,\n    invitedBy: invite.createdBy,\n  });\n\n  if (!firestore) {\n    memoryInvites.unshift({ ...invite, workspaceId });\n    notify(workspaceId, companyId);\n    return invite;\n  }\n\n  try {\n    const inviteRef = doc(firestore, 'workspaces', workspaceId, 'companies', companyId, 'invites', invite.token);\n    await setDoc(inviteRef, invite, { merge: true });\n\n    // Mirror to a top-level collection for invite acceptance without requiring prior company read access.\n    await setDoc(\n      doc(firestore, 'invite_tokens', invite.token),\n      {\n        ...invite,\n        workspaceId,\n        companyId,\n      },\n      { merge: true }\n    );\n    return invite;\n  } catch (error) {\n    throw new Error(mapFirebaseError(error, 'firestore'));\n  }\n}\n\nfunction mapInvite(docSnap: QueryDocumentSnapshot) {\n  return docSnap.data() as CompanyInvite;\n}\n\nexport async function getInviteByToken(token: string) {\n  if (!firestore) {\n    const invite = memoryInvites.find((entry) => entry.token === token);\n    if (!invite) return null;\n    return { workspaceId: invite.workspaceId, invite };\n  }\n\n  try {\n    const tokenRef = doc(firestore, 'invite_tokens', token);\n    const tokenSnap = await getDoc(tokenRef);\n    if (tokenSnap.exists()) {\n      const data = tokenSnap.data() as CompanyInvite & { workspaceId: string; companyId: string };\n      return {\n        workspaceId: data.workspaceId,\n        companyId: data.companyId,\n        inviteId: token,\n        ref: tokenRef,\n        invite: data as CompanyInvite,\n      };\n    }\n\n    // Legacy fallback: invites stored only as a subcollection, resolved via collectionGroup.\n    const q = query(collectionGroup(firestore, 'invites'), where('token', '==', token), limit(1));\n    const snap = await getDocs(q);\n    if (!snap.docs.length) return null;\n    const inviteDoc = snap.docs[0];\n    const invite = mapInvite(inviteDoc);\n    const companyRef = inviteDoc.ref.parent.parent;\n    const workspaceRef = companyRef?.parent.parent;\n    if (!companyRef || !workspaceRef) return null;\n\n    return {\n      workspaceId: workspaceRef.id,\n      companyId: companyRef.id,\n      inviteId: inviteDoc.id,\n      ref: inviteDoc.ref,\n      invite,\n    };\n  } catch {\n    return null;\n  }\n}\n\nexport async function acceptInviteByToken(token: string, user: { uid: string; email: string; name?: string }) {\n  const resolved = await getInviteByToken(token);\n  if (!resolved) {\n    return { ok: false as const, reason: 'Invite not found' };\n  }\n\n  const invite = resolved.invite;\n  if (invite.status !== 'pending') {\n    return { ok: false as const, reason: 'Invite already used or revoked' };\n  }\n\n  if (invite.email.toLowerCase() !== user.email.toLowerCase()) {\n    return { ok: false as const, reason: 'Signed-in email does not match invite email' };\n  }\n\n  if (new Date(invite.expiresAt).getTime() < Date.now()) {\n    if (firestore) {\n      // Best-effort: mark expired in both token mirror + company invite doc (if present).\n      try {\n        await updateDoc(doc(firestore, 'invite_tokens', token), { status: 'expired' });\n      } catch {\n        // ignore\n      }\n      try {\n        const workspaceId = resolved.workspaceId;\n        const companyId = ('companyId' in resolved && resolved.companyId) ? resolved.companyId : invite.companyId;\n        if (companyId) {\n          await updateDoc(doc(firestore, 'workspaces', workspaceId, 'companies', companyId, 'invites', token), { status: 'expired' });\n        }\n      } catch {\n        // ignore\n      }\n    }\n    return { ok: false as const, reason: 'Invite expired' };\n  }\n\n  const workspaceId = resolved.workspaceId;\n  const companyId = ('companyId' in resolved && resolved.companyId) ? resolved.companyId : invite.companyId;\n  if (!companyId) {\n    return { ok: false as const, reason: 'Invite is missing company id' };\n  }\n\n  // Ensure the user has workspace access doc so company-level rules can be evaluated.\n  await ensureWorkspaceUserAccess({\n    workspaceId,\n    uid: user.uid,\n    email: user.email || `${user.uid}@local.test`,\n  });\n\n  // Create/merge uid-based membership doc. This is the source of truth for company authorization + listing.\n  if (firestore) {\n    const memberRef = doc(firestore, 'workspaces', workspaceId, 'companies', companyId, 'members', user.uid);\n    await setDoc(\n      memberRef,\n      {\n        id: user.uid,\n        workspaceId,\n        companyId,\n        email: invite.email.toLowerCase(),\n        uid: user.uid,\n        name: user.name || '',\n        role: invite.role,\n        status: 'active',\n        invitedBy: invite.createdBy,\n        invitedAt: invite.createdAt,\n        joinedAt: new Date().toISOString(),\n        inviteToken: token,\n      },\n      { merge: true }\n    );\n\n    // Mark accepted in both token mirror + company invite doc (token-id) for admin UI.\n    await updateDoc(doc(firestore, 'invite_tokens', token), { status: 'accepted', acceptedByUid: user.uid });\n    await updateDoc(doc(firestore, 'workspaces', workspaceId, 'companies', companyId, 'invites', token), {\n      status: 'accepted',\n      acceptedByUid: user.uid,\n    });\n  } else {\n    // Legacy memory flow.\n    await activateMemberByEmail(workspaceId, companyId, invite.email, user.uid, user.name || '', invite.role);\n    const memoryInvite = memoryInvites.find((entry) => entry.token === token);\n    if (memoryInvite) {\n      memoryInvite.status = 'accepted';\n      memoryInvite.acceptedByUid = user.uid;\n      notify(workspaceId, companyId);\n    }\n  }\n\n  return { ok: true as const, workspaceId, companyId };\n}\n","\"use client\";\n\nimport Link from 'next/link';\nimport { useEffect } from 'react';\nimport { useParams } from 'next/navigation';\nimport { CompanyMembersManager } from '@/components/company/company-members-manager';\nimport { CompanyProfileEditor } from '@/components/companies/company-profile-editor';\nimport { useAppState } from '@/components/shell/app-state';\nimport { PageHeader } from '@/components/ui/page-header';\n\nexport default function CompanyDetailPage() {\n  const params = useParams<{ companyId: string }>();\n  const { companies, setActiveCompany, markCompanyGateSeen } = useAppState();\n  const company = companies.find((entry) => entry.id === params.companyId) || null;\n\n  useEffect(() => {\n    if (!company) return;\n    setActiveCompany(company.id);\n    markCompanyGateSeen(true);\n  }, [company, markCompanyGateSeen, setActiveCompany]);\n\n  if (!company) {\n    return (\n      <section className=\"panel\">\n        <h3>Company not found</h3>\n        <p>This company may have been removed or is not loaded in the current workspace.</p>\n        <div className=\"button-row\">\n          <Link className=\"btn-primary\" href=\"/select-company\">Select company</Link>\n          <Link className=\"btn-ghost\" href=\"/companies\">Back to companies</Link>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <PageHeader\n        title={company.name}\n        subtitle={`Brand profile | ${company.completionScore}% complete`}\n        actions={\n          <>\n            <Link className=\"btn-ghost\" href={`/companies/${company.id}/integrations`}>Manage Integrations</Link>\n            <Link className=\"btn-primary\" href={`/companies/${company.id}/intake`}>Open Intake Wizard</Link>\n          </>\n        }\n      />\n      <CompanyMembersManager companyId={company.id} />\n      <CompanyProfileEditor initialCompany={company} />\n    </div>\n  );\n}\n\n\r\n","\"use client\";\n\nimport { useEffect, useState } from 'react';\nimport { Copy, Send } from 'lucide-react';\nimport { useAppState } from '@/components/shell/app-state';\nimport { buildInviteUrl, createCompanyInvite, subscribeCompanyInvites } from '@/lib/firebase/invite-store';\nimport { subscribeCompanyMembers, updateMemberRole } from '@/lib/firebase/member-store';\nimport type { CompanyInvite, CompanyMember, Role } from '@/types/interfaces';\n\ntype Props = {\n  companyId: string;\n};\n\nexport function CompanyMembersManager({ companyId }: Props) {\n  const { appContext, setMembersByCompany } = useAppState();\n  const [members, setMembers] = useState<CompanyMember[]>([]);\n  const [invites, setInvites] = useState<CompanyInvite[]>([]);\n  const [email, setEmail] = useState('');\n  const [role, setRole] = useState<Role>('client');\n  const [status, setStatus] = useState<string | null>(null);\n\n  useEffect(() => {\n    return subscribeCompanyMembers(\n      appContext.workspaceId,\n      companyId,\n      (value) => {\n        setMembers(value);\n        setMembersByCompany((prev) => ({ ...prev, [companyId]: value }));\n      },\n      (message) => setStatus(message)\n    );\n  }, [appContext.workspaceId, companyId, setMembersByCompany]);\n\n  useEffect(() => {\n    return subscribeCompanyInvites(appContext.workspaceId, companyId, setInvites, (message) => setStatus(message));\n  }, [appContext.workspaceId, companyId]);\n\n  async function onInvite() {\n    if (!email.trim()) {\n      setStatus('Email is required.');\n      return;\n    }\n    setStatus(null);\n    try {\n      await createCompanyInvite(appContext.workspaceId, companyId, {\n        email,\n        role,\n        createdBy: appContext.userId,\n      });\n      setEmail('');\n      setStatus('Invite created. Share the invite link below.');\n    } catch (error) {\n      setStatus(error instanceof Error ? error.message : 'Could not create invite');\n    }\n  }\n\n  async function onUpdateMemberRole(memberId: string, nextRole: Role) {\n    setStatus(null);\n    try {\n      await updateMemberRole(appContext.workspaceId, companyId, memberId, nextRole);\n      setStatus('Member role updated.');\n    } catch (error) {\n      setStatus(error instanceof Error ? error.message : 'Could not update member role');\n    }\n  }\n\n  return (\n    <section className=\"panel\">\n      <h3>Company members</h3>\n      <div className=\"form-grid two-col\">\n        <label className=\"two-col-span\">\n          <span>Client email</span>\n          <input value={email} onChange={(event) => setEmail(event.target.value)} placeholder=\"client@company.com\" />\n        </label>\n        <label>\n          <span>Role</span>\n          <select value={role} onChange={(event) => setRole(event.target.value as Role)}>\n            <option value=\"admin\">Admin</option>\n            <option value=\"editor\">Editor</option>\n            <option value=\"viewer\">Viewer</option>\n            <option value=\"client\">Client</option>\n          </select>\n        </label>\n        <label>\n          <span>Pending invites</span>\n          <input readOnly value={String(invites.filter((invite) => invite.status === 'pending').length)} />\n        </label>\n      </div>\n      <div className=\"button-row\">\n        <button type=\"button\" className=\"btn-primary\" onClick={onInvite}>\n          <Send className=\"h-4 w-4\" /> Send invite\n        </button>\n      </div>\n      <div className=\"member-management-list\">\n        {members.length ? (\n          members.map((member) => (\n            <div key={member.id} className=\"selector-member-row\">\n              <span>{member.name || member.email}</span>\n              <div className=\"flex items-center gap-2\">\n                <select\n                  value={member.role}\n                  onChange={(event) => onUpdateMemberRole(member.id, event.target.value as Role)}\n                  className=\"h-8 rounded-md border border-[var(--border)] bg-[var(--panel-soft)] px-2 text-xs\"\n                >\n                  <option value=\"admin\">Admin</option>\n                  <option value=\"editor\">Editor</option>\n                  <option value=\"viewer\">Viewer</option>\n                  <option value=\"client\">Client</option>\n                </select>\n                <span className=\"badge\">{member.status}</span>\n              </div>\n            </div>\n          ))\n        ) : (\n          <p className=\"text-sm text-[var(--muted)]\">No members yet for this company.</p>\n        )}\n      </div>\n      {invites.length ? (\n        <div className=\"member-management-list\">\n          {invites.slice(0, 8).map((invite) => {\n            const inviteUrl = buildInviteUrl(invite.token);\n            return (\n              <div key={invite.id} className=\"selector-member-row\">\n                <span style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>{invite.email}</span>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"badge\">{invite.role} | {invite.status}</span>\n                  <button\n                    type=\"button\"\n                    className=\"btn-ghost\"\n                    onClick={async () => {\n                      try {\n                        await navigator.clipboard.writeText(inviteUrl);\n                        setStatus(`Invite link copied for ${invite.email}.`);\n                      } catch {\n                        setStatus('Could not copy invite link.');\n                      }\n                    }}\n                  >\n                    <Copy className=\"h-4 w-4\" /> Copy link\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      ) : null}\n      {status ? <p className=\"text-sm text-[var(--muted)]\">{status}</p> : null}\n    </section>\n  );\n}\n","\"use client\";\n\nimport { useMemo, useState } from 'react';\nimport { useAppState } from '@/components/shell/app-state';\nimport { updateCompany } from '@/lib/firebase/company-store';\nimport type { CompanyProfile, CompanySectionState } from '@/types/interfaces';\n\nfunction stringify(value: unknown) {\n  return JSON.stringify(value, null, 2);\n}\n\nfunction parseOrKeep(raw: string, fallback: unknown) {\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return fallback;\n  }\n}\n\nfunction compileSummary(company: CompanyProfile) {\n  return [\n    `Brand: ${company.name}`,\n    `Identity: ${company.sections.identity.tagline || 'n/a'}`,\n    `Voice: ${company.sections.voice.tone || 'n/a'}`,\n    `Visual: ${company.sections.visual.styleKeywords.join(', ') || 'n/a'}`,\n    `Audience: ${company.sections.audience.primaryPersona || 'n/a'}`,\n    `Content pillars: ${company.sections.content.pillars.join(', ') || 'n/a'}`,\n  ].join(' | ');\n}\n\nexport function CompanyProfileEditor({ initialCompany }: { initialCompany: CompanyProfile }) {\n  const { appContext, setCompanies } = useAppState();\n  const [company, setCompany] = useState(initialCompany);\n  const [saving, setSaving] = useState(false);\n  const [status, setStatus] = useState<string | null>(null);\n\n  const sectionNames = useMemo(() => ['identity', 'voice', 'visual', 'audience', 'content'] as const, []);\n\n  async function saveCompanyProfile() {\n    setSaving(true);\n    setStatus(null);\n    try {\n      const completion = Math.min(\n        100,\n        Math.round(\n          (sectionNames.reduce((acc, section) => {\n            const hasAny = Object.values(company.sections[section]).some((value) =>\n              Array.isArray(value) ? value.length > 0 : String(value || '').trim().length > 0\n            );\n            return acc + (hasAny ? 20 : 0);\n          }, 0) / 100) * 100\n        )\n      );\n\n      const next: CompanyProfile = {\n        ...company,\n        completionScore: completion,\n        aiContextCompiled: compileSummary(company),\n        updatedAt: new Date().toISOString(),\n        updatedBy: appContext.userId,\n      };\n\n      await updateCompany(appContext.workspaceId, company.id, next);\n      setCompany(next);\n      setCompanies((prev) => prev.map((entry) => (entry.id === next.id ? next : entry)));\n      setStatus('Saved profile changes.');\n    } catch (error) {\n      setStatus(error instanceof Error ? error.message : 'Save failed');\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  return (\n    <section className=\"grid-two\">\n      {sectionNames.map((section) => (\n        <article className=\"panel\" key={section}>\n          <h3>{section.charAt(0).toUpperCase() + section.slice(1)}</h3>\n          <p className=\"text-sm text-[var(--muted)]\">Edit section JSON directly for now.</p>\n          <textarea\n            value={stringify(company.sections[section])}\n            onChange={(event) => {\n              const nextValue = parseOrKeep(event.target.value, company.sections[section]) as CompanySectionState[typeof section];\n              setCompany((prev) => ({\n                ...prev,\n                sections: {\n                  ...prev.sections,\n                  [section]: nextValue,\n                },\n              }));\n            }}\n          />\n        </article>\n      ))}\n\n      <article className=\"panel two-col-span\">\n        <h3>Prompt packs</h3>\n        <textarea\n          value={stringify(company.promptPacks)}\n          onChange={(event) => {\n            const nextValue = parseOrKeep(event.target.value, company.promptPacks) as CompanyProfile['promptPacks'];\n            setCompany((prev) => ({ ...prev, promptPacks: nextValue }));\n          }}\n        />\n        <div className=\"button-row\">\n          <button className=\"btn-primary\" type=\"button\" onClick={saveCompanyProfile} disabled={saving}>\n            {saving ? 'Saving...' : 'Save Company Profile'}\n          </button>\n        </div>\n        {status ? <p className=\"text-sm text-[var(--muted)]\">{status}</p> : null}\n      </article>\n    </section>\n  );\n}\n\n"],"names":[],"mappings":"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","ignoreList":[1,2]}